<mxfile host="app.diagrams.net" modified="2022-02-10T06:26:52.516Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36" etag="1I3xUwNdN1ZjjlgKUk0l" version="16.4.11" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2354" dy="2041" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.099;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-0" target="_dbhWTCsYHtgHH0JyTuk-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-0" value="Computation" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-240" y="610" width="210" height="142" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-1" value=" XlaComputation computation;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-0" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-23" value="ProgramShape program_shape_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-0" vertex="1">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-2" value="std::vector&lt;std::string&gt; devices_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-0" vertex="1">
          <mxGeometry y="80" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-4" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-0" vertex="1">
          <mxGeometry y="108" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-14" target="_dbhWTCsYHtgHH0JyTuk-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-14" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;Compile&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="70" y="770" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#CC0000;endArrow=block;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-15" target="_dbhWTCsYHtgHH0JyTuk-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-15" value="CompileInstance" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="20" y="600" width="210" height="142" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-16" value=" XlaComputation computation;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-15" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-17" value="std::string compilation_device;&#xa;std::vector&lt;std::string&gt; devices;&#xa;const Shape* output_shape = nullptr;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-15" vertex="1">
          <mxGeometry y="52" width="210" height="68" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-18" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-15" vertex="1">
          <mxGeometry y="120" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-24" target="_dbhWTCsYHtgHH0JyTuk-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-166" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-24" target="_dbhWTCsYHtgHH0JyTuk-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-24" value="XlaComputation" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-500" y="610" width="210" height="110" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-25" value="int64_t unique_id_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-24" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-26" value="HloModuleProto proto_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-24" vertex="1">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-28" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-24" vertex="1">
          <mxGeometry y="80" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-31" value="LoweringContext" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-20" y="241" width="440" height="324" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-32" value="  xla::XlaBuilder builder_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-31" vertex="1">
          <mxGeometry y="26" width="440" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-33" value="  Device device_;&#xa;  std::vector&lt;xla::ComputationClient::DataPtr&gt; parameters_;&#xa;  std::unordered_map&lt;xla::ComputationClient::Data::OpaqueHandle, Parameter&gt;&#xa;      parameters_map_;&#xa;  std::vector&lt;size_t&gt; parameter_sequence_;&#xa;  std::vector&lt;xla::XlaOp&gt; root_tuple_;&#xa;  OutputMap&lt;xla::XlaOp&gt; emitted_outputs_;&#xa;  Util::EmissionMap emit_status_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-31" vertex="1">
          <mxGeometry y="52" width="440" height="152" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-34" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-31" vertex="1">
          <mxGeometry y="204" width="440" height="18" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-35" value="xla::XlaBuilder* builder() { return &amp;builder_; }" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-31" vertex="1">
          <mxGeometry y="222" width="440" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-36" target="_dbhWTCsYHtgHH0JyTuk-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-171" y="75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="_dbhWTCsYHtgHH0JyTuk-36" target="_dbhWTCsYHtgHH0JyTuk-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-36" value="xla::XlaBuilder" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=20;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-520" y="-170" width="460" height="746" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-179" value="string name_;  // Name to use for the built computation.&#xa;  // The next sequential ID for every instruction/computation contained within&#xa;  // this computation.&#xa;  int64_t next_id_ = 0;&#xa;  // The first error encountered while building the computation.&#xa;  // This is OK until the first error is encountered.&#xa;  Status first_error_;&#xa;  // The saved stack trace from the point at which the first error occurred.&#xa;  tensorflow::SavedStackTrace first_error_backtrace_;&#xa;  // The instructions of this computation.&#xa;  std::vector&lt;HloInstructionProto&gt; instructions_;&#xa;  // An cache for the HloInstructionProto shapes, to avoid recreating Shape&#xa;  // objects from protos and to support the GetShapePtr() API.&#xa;  std::vector&lt;std::unique_ptr&lt;Shape&gt;&gt; instruction_shapes_;&#xa;  // Dynamic parameter configuration of this computation.&#xa;  DynamicParameterBinding dynamic_parameter_binding_;&#xa;  // Holds the input/output alias information populated by the SetUpAlias() API.&#xa;  std::vector&lt;InputOutputAlias&gt; input_output_aliases_;&#xa;  // A map from XlaOp::Handle to the index in the instructions_ vector where the&#xa;  // instruction is held.&#xa;  absl::flat_hash_map&lt;int64_t, int64_t&gt; handle_to_index_;&#xa;  // Track imported instructions by their computation id and the position in&#xa;  // their computation&#39;s instruction list.&#xa;  struct ImportedInstruction {&#xa;    int64_t computation_id;&#xa;    int64_t instruction_index;&#xa;  };&#xa;  absl::flat_hash_map&lt;int64_t, ImportedInstruction&gt; handle_to_imported_index_;&#xa;  // The embedded computations used by this computation. Each computation was&#xa;  // the entry computation of some XlaComputation, the key is the unique id of&#xa;  // that XlaComputation.&#xa;  std::map&lt;int64_t, HloComputationProto&gt; embedded_;&#xa;  // The unique parameter numbers.&#xa;  absl::flat_hash_set&lt;int64_t&gt; parameter_numbers_;&#xa;  // The metadata to attach to each op. This is structured as a &quot;modal&quot;-like&#xa;  // operation, in order to simplify client code (and not sprinkle this metadata&#xa;  // throughout the TensorFlow op kernel implementations).&#xa;  OpMetadata metadata_;&#xa;  // A temporary metadata that will only be applied to the next op created.&#xa;  absl::optional&lt;OpMetadata&gt; one_shot_metadata_;&#xa;  // Sharding for this operator. This is structured as a &quot;model&quot;-like operation,&#xa;  // in order to simplify client code, similar to metadata_.&#xa;  absl::optional&lt;OpSharding&gt; sharding_;&#xa;  // Mode bit that indicates whether to die when a first error is encountered.&#xa;  bool die_immediately_on_error_ = false;&#xa;  XlaBuilder* parent_builder_{nullptr};&#xa;  FrontendAttributes frontend_attributes_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-36" vertex="1">
          <mxGeometry y="20" width="460" height="670" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-39" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-36" vertex="1">
          <mxGeometry y="690" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-41" value="  StatusOr&lt;XlaComputation&gt; Build" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-36" vertex="1">
          <mxGeometry y="720" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-43" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;ExecuteComputation&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="45" y="820" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-46" value="XlaOp" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-910" y="60" width="210" height="110" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-47" value="int64_t handle_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-46" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-48" value="XlaBuilder* builder_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="_dbhWTCsYHtgHH0JyTuk-46" vertex="1">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_dbhWTCsYHtgHH0JyTuk-49" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="_dbhWTCsYHtgHH0JyTuk-46" vertex="1">
          <mxGeometry y="80" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-0" value="&lt;h1&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-weight: normal ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;HloComputation/&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;HloComputationProto&lt;/span&gt;&lt;/div&gt;&lt;/h1&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div&gt;Describes a computation at the HLO level.&lt;/div&gt;&lt;br&gt;&lt;div&gt;You can think of an HloComputation like a function&lt;span style=&quot;color: #8b888f&quot;&gt;.&lt;/span&gt; &amp;nbsp;It has some inputs&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;parameters&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;and&lt;/span&gt; returns exactly one &lt;span style=&quot;color: #7bd88f&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;the value of its root node&lt;span style=&quot;color: #8b888f&quot;&gt;).&lt;/span&gt; &amp;nbsp;If&lt;/div&gt;&lt;div&gt;you want to &lt;span style=&quot;color: #fc618d&quot;&gt;return&lt;/span&gt; multiple values&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; you can &lt;span style=&quot;color: #fc618d&quot;&gt;return&lt;/span&gt; a tuple.&lt;/div&gt;&lt;br&gt;&lt;div&gt;The instructions inside of a computation &lt;span style=&quot;color: #fc618d&quot;&gt;do&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;not&lt;/span&gt; have an &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;explicit&lt;/span&gt; total order.&lt;/div&gt;&lt;div&gt;Instead&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; they have a partial order determined by their data &lt;span style=&quot;color: #fc618d&quot;&gt;and&lt;/span&gt; control&lt;/div&gt;&lt;div&gt;dependencies.&lt;/div&gt;&lt;br&gt;&lt;div&gt;An HloModule contains one &lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;entry computation&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;--&lt;/span&gt; &lt;span style=&quot;color: #bab6c0 ; font-style: italic&quot;&gt;this&lt;/span&gt; is like &lt;span style=&quot;color: #7bd88f&quot;&gt;main&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;()&lt;/span&gt; in a C&lt;/div&gt;&lt;div&gt;program&lt;span style=&quot;color: #8b888f&quot;&gt;.&lt;/span&gt; &amp;nbsp;Every other computation inside of a &lt;span style=&quot;color: #fc618d&quot;&gt;module&lt;/span&gt; is attached to one &lt;span style=&quot;color: #fc618d&quot;&gt;or&lt;/span&gt;&lt;/div&gt;&lt;div&gt;more HloInstructions&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; as a &lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;nested computation&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;. &amp;nbsp;For example&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; the kMap&lt;/div&gt;&lt;div&gt;instruction has a nested computation &lt;span style=&quot;color: #fc618d&quot;&gt;and&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;applies&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt; it to every element of its&lt;/div&gt;&lt;div&gt;input&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; elementwise. &amp;nbsp;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;That is&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; the input &lt;span style=&quot;color: #8b888f&quot;&gt;[&lt;/span&gt;x&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; z&lt;span style=&quot;color: #8b888f&quot;&gt;]&lt;/span&gt; is transformed to &lt;span style=&quot;color: #8b888f&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;f&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #8b888f&quot;&gt;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;f&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;y&lt;span style=&quot;color: #8b888f&quot;&gt;),&lt;/span&gt; &lt;span style=&quot;color: #7bd88f&quot;&gt;f&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;z&lt;span style=&quot;color: #8b888f&quot;&gt;)]&lt;/span&gt;.&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-720" y="1260" width="710" height="410" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ZLEvXDE0zLSAHLOMJoko-1" target="ZLEvXDE0zLSAHLOMJoko-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-1" value="HloComputation" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-400" y="1760" width="330" height="210" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-2" value="const std::string name_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="26" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-6" value="std::vector&lt;std::unique_ptr&lt;HloInstruction&gt;&gt; instructions_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="52" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-24" value="program_shape" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="80" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-25" value=" int64 id " style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="108" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-7" value="int64 root_id // root == return Instruction ?" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="136" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-4" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-1" vertex="1">
          <mxGeometry y="164" width="330" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-8" value="&lt;h1&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-weight: normal ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;HloInstruction&lt;/span&gt;&lt;/div&gt;&lt;/h1&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div&gt;HLO instructions are the atomic unit of the high&lt;span style=&quot;color: #fc618d&quot;&gt;-&lt;/span&gt;level compiler&lt;span style=&quot;color: #8b888f&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;s IR.&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;HloInstructions live inside of an HloComputation, which is analogous to a&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;function in other programming languages. &amp;nbsp;Nodes have no total order within&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;their computation. &amp;nbsp;Instead, they have a partial ordering determined by their&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;data and control dependencies.&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;HLO does not have basic blocks or explicit &quot;branch&quot; instructions. &amp;nbsp;Instead,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;certain HloInstructions -- namely, kWhile, kConditional, and kCall -- encode&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;control flow. &amp;nbsp;For example, the kConditional HLO executes one of two possible&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;computations, depending on the runtime value of a predicate.&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;HLO is pure (mostly). &amp;nbsp;It has no concept of mutable state. &amp;nbsp;Instead, data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;values are produced by one HLO and flow into consumers across dependency&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fce566&quot;&gt;edges.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="87" y="1280" width="690" height="390" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-9" value="HloInstruction" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1350" y="1700" width="510" height="1030" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-10" value="  int unique_id_;  // Unique to this HloInstruction within a HloModule" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-9" vertex="1">
          <mxGeometry y="26" width="510" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-11" value="// Opcode for this instruction.&#xa;  HloOpcode opcode_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-9" vertex="1">
          <mxGeometry y="52" width="510" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-12" value=" // Instruction operands.&#xa;  InstructionVector operands_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-9" vertex="1">
          <mxGeometry y="100" width="510" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-13" value="// The set of control predecessors of this instruction.&#xa;  // Note that the order of the instructions in the vector influences the order&#xa;  // computed in HloComputation::ComputeInstructionPostOrder, which may&#xa;  // influence the result of the compilation by changing the scheduling. We are&#xa;  // not sure if it matters.&#xa;  std::vector&lt;HloInstruction*&gt; control_predecessors_;&#xa;  // The users of this instruction. Users are HLOs where this instruction is an&#xa;  // operand. The vector users_ and the map user_map_ contain identical members.&#xa;  // The map enables fast membership testing and the vector enables fast, stable&#xa;  // iteration. The value in the map contains the index of the instruction in&#xa;  // the vector what enables fast removal.&#xa;  std::vector&lt;HloInstruction*&gt; users_;&#xa;  absl::flat_hash_map&lt;const HloInstruction*, int64_t&gt; user_map_;&#xa;  // The set of control successors of this instruction.&#xa;  std::vector&lt;HloInstruction*&gt; control_successors_;&#xa;  // The computation in which this instruction is contained.&#xa;  HloComputation* parent_ = nullptr;&#xa;  // Result shape of this instruction.&#xa;  Shape shape_;&#xa;  // The sharding, if one exists.&#xa;  // Uses std::shared_ptr to allow reuse of the same sharding object between&#xa;  // HloInstructions and other components as HloSharding can be very large for&#xa;  // many element tuples.&#xa;  std::shared_ptr&lt;const HloSharding&gt; sharding_;&#xa;  // Computations called by this instruction.&#xa;  std::vector&lt;HloComputation*&gt; called_computations_;&#xa;  // A trace instruction that consumes this instruction.&#xa;  //&#xa;  // Invariant: if trace_instruction_ != nullptr, trace_instruction has this as&#xa;  // an operand.&#xa;  HloInstruction* trace_instruction_ = nullptr;&#xa;  // The backend-specific configuration for how a backend should compile this&#xa;  // HLO. See the documentation on backend_config().&#xa;  string backend_config_;&#xa;  // Attributes passed from the frontend to give hints to the backend about&#xa;  // how to compile this HLO.&#xa;  // HLO -&gt; HLO transforms are expected to preserve these attributes on a&#xa;  // &quot;best effort&quot; basis only.&#xa;  // For example:&#xa;  //    x = const(10, frontend_attributes={x}&#xa;  //    y = const(10, frontend_attributes={y}&#xa;  //    z = add(x,y), frontend_attributes={y}&#xa;  // Could be simplified to:&#xa;  //    z&#39; = const(20), frontend_attributes={?}&#xa;  FrontendAttributes frontend_attributes_;&#xa;  // This field is assigned to true when backend_config_ is assigned to&#xa;  // a default configuration.&#xa;  bool is_default_config_ = false;&#xa;  // True if this instruction has already been detached from its user and&#xa;  // operands.&#xa;  bool cleaned_up_ = false;&#xa;  // String identifier for instruction.&#xa;  string name_;&#xa;  // Metadata for debugging.&#xa;  OpMetadata metadata_;&#xa;  // The number of partitions per outer dimension (listed in order from&#xa;  // outer-most dimension first).&#xa;  std::vector&lt;int64_t&gt; outer_dimension_partitions_;&#xa;  // Intrusive flag used by HloComputation, whether this instruction has&#xa;  // been marked as dead.&#xa;  bool marked_as_dead_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-9" vertex="1">
          <mxGeometry y="140" width="510" height="880" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-14" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-9" vertex="1">
          <mxGeometry y="1020" width="510" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-15" value="HloModule" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-30" y="1760" width="400" height="210" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-16" value="const std::string name_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="26" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-21" value="int64 id" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="52" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-17" value="entry_computation_name" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="78" width="400" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-18" value="entry_computation_id" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="106" width="400" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-19" value="std::vector&lt;std::unique_ptr&lt;HloComputation&gt;&gt; computations_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="134" width="400" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-22" value="host_program_shape" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="162" width="400" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-20" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-15" vertex="1">
          <mxGeometry y="190" width="400" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ZLEvXDE0zLSAHLOMJoko-12" target="ZLEvXDE0zLSAHLOMJoko-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-27" value="XrtSession" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-330" y="2200" width="330" height="210" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-28" value="std::string target_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-27" vertex="1">
          <mxGeometry y="26" width="330" height="22" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-29" value="tensorflow::Scope root_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-27" vertex="1">
          <mxGeometry y="48" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-30" value="tensorflow::ClientSession session_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-27" vertex="1">
          <mxGeometry y="76" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-31" value="std::map&lt;std::string, NodeCache&gt; node_cache_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-27" vertex="1">
          <mxGeometry y="104" width="330" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-32" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-27" vertex="1">
          <mxGeometry y="132" width="330" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-33" value="SessionWork" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-330" y="2440" width="330" height="210" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-39" value="    tensorflow::ClientSession::FeedType feed_inputs;&#xa;    std::vector&lt;tensorflow::Output&gt; outputs_handles;&#xa;    std::vector&lt;tensorflow::Operation&gt; operations;&#xa;    std::vector&lt;size_t&gt; index_mapping;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-33" vertex="1">
          <mxGeometry y="26" width="330" height="84" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-38" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-33" vertex="1">
          <mxGeometry y="110" width="330" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ZLEvXDE0zLSAHLOMJoko-40" target="ZLEvXDE0zLSAHLOMJoko-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-40" value="tensorflow::ClientSession" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-780" y="2200" width="320" height="150" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-45" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="ZLEvXDE0zLSAHLOMJoko-40" vertex="1">
          <mxGeometry y="26" width="320" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ZLEvXDE0zLSAHLOMJoko-44" value="  Status Run(const FeedType&amp; inputs, &#xa;             const std::vector&lt;Output&gt;&amp; fetch_outputs,&#xa;             const std::vector&lt;Operation&gt;&amp; run_outputs,&#xa;             std::vector&lt;Tensor&gt;* outputs) const;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="ZLEvXDE0zLSAHLOMJoko-40" vertex="1">
          <mxGeometry y="36" width="320" height="74" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-0" value="ModelImpl" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-706.5" y="3210" width="320" height="150" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-2" value="  ModelType type_;&#xa;  std::vector&lt;const MemoryView *&gt; mem_views_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-0" vertex="1">
          <mxGeometry y="26" width="320" height="54" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-1" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-0" vertex="1">
          <mxGeometry y="80" width="320" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-4" value="&lt;font style=&quot;font-size: 20px&quot;&gt;minfer&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-760" y="2790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-5" target="LlnP0XwbOhv8N2WKwCaH-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-5" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Model&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;CreateModelFromBuffer&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;ModelType&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;MemoryView&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*const&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;buffers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(90 , 212 , 230) ; font-style: italic&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: rgb(253 , 147 , 83) ; font-style: italic&quot;&gt;num_buffer&lt;/span&gt;&lt;span style=&quot;color: rgb(139 , 136 , 143)&quot;&gt;){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;ModelImpl&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;buffers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;num_buffer&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(139 , 136 , 143)&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-816.5" y="3080" width="540" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-7" target="LlnP0XwbOhv8N2WKwCaH-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-7" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;ModelBase&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;Model&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-690" y="2923" width="287" height="23" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-8" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;ModelImpl&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;final&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;ModelBase&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-730" y="2980" width="367" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-10" target="LlnP0XwbOhv8N2WKwCaH-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-10" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; line-height: 22px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #69676c ; font-style: italic&quot;&gt;// use onnxparser in nv platform&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilder&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;CreateNetBuilder&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;Model&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;model&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;Context&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;ctx&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;use_trtparser&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #5ad4e6&quot;&gt;CHECK&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;model&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;CreateNetBuilder: model must not be nullptr&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #fc618d&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilderImpl&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;model&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;ctx&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;use_trtparser&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-10" y="3050" width="613" height="130" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-12" target="LlnP0XwbOhv8N2WKwCaH-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-12" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilderBase&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilder&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="87" y="2923" width="383" height="23" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-13" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilderImpl&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;final&lt;/span&gt; &lt;span style=&quot;color: #8b888f&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;NetBuilderBase&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="37" y="2980" width="483" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-14" value="NetBuilderImpl" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="66.5" y="3220" width="460" height="330" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-15" value="  bool shape_clean_;&#xa;  std::shared_ptr&lt;Context&gt; ctx_;&#xa;  bool trt_cache_set_;&#xa;  bool build_for_safe_ = false;&#xa;  std::string serialized_buffer_;&#xa;  std::shared_ptr&lt;MemoryView&gt; serialized_memory_;&#xa;  std::shared_ptr&lt;minfer::CompileGraph&gt; compile_graph_;&#xa;  std::shared_ptr&lt;minfer::Parser&gt; parser_;&#xa;  plugin::ModelHandle plugin_model_handle_;&#xa;  std::vector&lt;OperatorInfoImpl&gt; operators_;&#xa;  std::vector&lt;BlobInfoImpl&gt; blobs_;&#xa;  std::vector&lt;std::string&gt; default_output_blobs_;&#xa;  std::unordered_set&lt;std::string&gt; output_blobs_;&#xa;  mjson::Json minfer_calib_cache_;&#xa;  std::vector&lt;MinferInt8CalibrationCacheImpl&gt; minfer_int8_calib_caches_;&#xa;  std::vector&lt;MinferInt8CalibrationCache&gt; minfer_int8_calib_caches_c_struct_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-14" vertex="1">
          <mxGeometry y="26" width="460" height="244" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-16" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-14" vertex="1">
          <mxGeometry y="270" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-21" value="MemoryView *NetBuilderImpl::Serialize(void) {&#xa;&#xa;}" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-14" vertex="1">
          <mxGeometry y="280" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-22" value="CompileGraph" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="840" y="3220" width="310" height="194" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-23" value="  std::unordered_set&lt;NodePtr, node_hash&gt; nodes_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-22" vertex="1">
          <mxGeometry y="26" width="310" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-30" value="  std::map&lt;Blob::BackendType, MemPool&gt; mem_pool_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-22" vertex="1">
          <mxGeometry y="60" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-24" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-22" vertex="1">
          <mxGeometry y="90" width="310" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-25" value="MemoryView *NetBuilderImpl::Serialize(void) {&#xa;&#xa;}" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-22" vertex="1">
          <mxGeometry y="100" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-26" target="LlnP0XwbOhv8N2WKwCaH-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-188" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-26" target="LlnP0XwbOhv8N2WKwCaH-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-26" value="Node" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1290" y="3210" width="460" height="260" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-27" value="  std::string name;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-26" vertex="1">
          <mxGeometry y="26" width="460" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-51" value="  std::vector&lt;BlobPtr&gt; in;&#xa;  std::vector&lt;BlobPtr&gt; out;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-26" vertex="1">
          <mxGeometry y="60" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-50" value="  std::shared_ptr&lt;Operator&gt; op;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-26" vertex="1">
          <mxGeometry y="110" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-28" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-26" vertex="1">
          <mxGeometry y="160" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-29" value="std::string Serialize(void) const;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-26" vertex="1">
          <mxGeometry y="170" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-31" target="LlnP0XwbOhv8N2WKwCaH-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2130" y="3345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-31" target="LlnP0XwbOhv8N2WKwCaH-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-31" value="Operator" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1920" y="3507" width="420" height="316" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-47" value=" AttrTable attr_;&#xa;  bool reuse_mem_ = true;&#xa;  TargetPlatForm target_platform_ = TargetPlatForm::UNDEFINED;&#xa;  DataOrder data_order_ = DataOrder::UNDEFINED;&#xa;  BackendType backend_type_ = BackendType::UNDEFINED;&#xa;  Blob::BackendType blob_backend_type_ = Blob::BackendType::INVALID;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-31" vertex="1">
          <mxGeometry y="26" width="420" height="130" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-33" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-31" vertex="1">
          <mxGeometry y="156" width="420" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-34" value="  std::string Serialize(void) const;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-31" vertex="1">
          <mxGeometry y="166" width="420" height="44" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-52" value=" Compile(const std::vector&lt;BlobPtr&gt; &amp;data_in,&#xa;          const std::vector&lt;BlobPtr&gt; &amp;data_out) const = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-31" vertex="1">
          <mxGeometry y="210" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-58" value="  virtual void InferShape(const std::vector&lt;BlobPtr&gt; &amp;data_in,&#xa;                          const std::vector&lt;BlobPtr&gt; &amp;data_out) const = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-31" vertex="1">
          <mxGeometry y="260" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-35" target="LlnP0XwbOhv8N2WKwCaH-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2200" y="3365" />
              <mxPoint x="2200" y="3295" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-35" value="Blob" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2440" y="3210" width="460" height="310" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-44" value="std::string name;&#xa;  std::vector&lt;size_t&gt; shape;&#xa;  std::vector&lt;size_t&gt; stride;&#xa;  std::vector&lt;Relation&gt; relations;&#xa;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-35" vertex="1">
          <mxGeometry y="26" width="460" height="84" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-43" value=" mtensor::Tensor tensor;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-35" vertex="1">
          <mxGeometry y="110" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-36" value="  BackendType backend;&#xa;  size_t element_size;&#xa;  size_t offset;&#xa;  bool pre_padding;&#xa;  std::vector&lt;uint8_t&gt; constant_data;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-35" vertex="1">
          <mxGeometry y="160" width="460" height="90" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-37" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-35" vertex="1">
          <mxGeometry y="250" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-38" value=" std::string Serialize(void) const;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-35" vertex="1">
          <mxGeometry y="260" width="460" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-39" target="LlnP0XwbOhv8N2WKwCaH-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-39" value="Tensor" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2990" y="3210" width="460" height="210" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-40" value="  void *valid_ptr_ = nullptr; // Use this var to improve read perf&#xa;  void *ptr_ = nullptr;&#xa;  Dimensions dims_;&#xa;  BackendType backend_{UNDEFINED_BACKEND_TYPE};&#xa;  DataType dtype_{UNDEFINED_DATA_TYPE};&#xa;  DataLayout layout_{UNDEFINED_DATA_LAYOUT};&#xa;  // Quantization&#xa;  QuantizationInfo qinfo_ = {NO_QUANT, 0};" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-39" vertex="1">
          <mxGeometry y="26" width="460" height="134" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-41" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-39" vertex="1">
          <mxGeometry y="160" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-53" value="class ElementWiseOperator : public Operator" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1920" y="3850" width="420" height="300" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-54" value="  OperatorType operator_type_ = OperatorType::UNDEFINED;&#xa;  std::string op_type_name_;&#xa;  size_t element_size_;&#xa;  int sum_num_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-53" vertex="1">
          <mxGeometry y="26" width="420" height="94" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-55" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-53" vertex="1">
          <mxGeometry y="120" width="420" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-56" value="virtual minfer_runtime::GraphRuntime&#xa;  Compile(const std::vector&lt;BlobPtr&gt; &amp;data_in,&#xa;          const std::vector&lt;BlobPtr&gt; &amp;data_out) const override;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-53" vertex="1">
          <mxGeometry y="130" width="420" height="70" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-57" value=" virtual std::string Serialize(void) const override;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-53" vertex="1">
          <mxGeometry y="200" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-60" value="void ElementWiseOperator::InferShape" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fontSize=13;" parent="LlnP0XwbOhv8N2WKwCaH-53" vertex="1">
          <mxGeometry y="250" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-65" value="MemoryView *NetBuilderImpl::Serialize(void)" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="45" y="3670" width="425" height="510" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-66" value="// 1. do some shape checking and updating&#xa;  compile_graph_-&gt;InferShape();&#xa;&#xa;  for (auto &amp;blob : blobs_) {&#xa;    blob.shape =&#xa;        vector_size_t_to_int(compile_graph_-&gt;BlobShapeByName(blob.name));&#xa;  }" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="26" width="425" height="124" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-71" value=" // 2. Update precision info in the graph according to user settings&#xa;  compile_graph_-&gt;UpdatePreferredPrecision(operators_);&#xa;  compile_graph_-&gt;PropagateQuantInfo();" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="150" width="425" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-73" value="  // 3. deal with output issues&#xa;  CHECK_GT(output_blobs_.size(), 0)&#xa;      &lt;&lt; &quot;NetBuilder::Serialize: none of output blobs are set.&quot;;&#xa;  auto this_graph = compile_graph_-&gt;Copy();&#xa;  this-&gt;SetOutputsToGraph(this_graph);" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="230" width="425" height="100" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-72" value="/ 4. do optimize" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="330" width="425" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-97" value="/ 5. Compile" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="390" width="425" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-67" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-65" vertex="1">
          <mxGeometry y="450" width="425" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-69" target="LlnP0XwbOhv8N2WKwCaH-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-69" value="&lt;div style=&quot;background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-weight: normal ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div&gt;&lt;font color=&quot;#fc618d&quot;&gt;// 1. 推导所有node的输入输出shape&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#fc618d&quot;&gt;// 2. 传播量化信息&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#fc618d&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;auto&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;node &lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; nodes&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &amp;nbsp; node&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;op&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;InferShape&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;node&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; node&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;out&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;LOG&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;INFO&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #fce566&quot;&gt;Infer shape success!&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #69676c ; font-style: italic&quot;&gt;&amp;nbsp; // Add PropagateQuantInfo just after all InferShape operation.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255)&quot;&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #bab6c0 ; font-style: italic&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;PropagateQuantInfo&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#8b888f&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(252 , 97 , 141)&quot;&gt;// 3.&amp;nbsp; 这里对blob的shape赋值，说明不是同一个blob，为什么不用相同的blob呢？&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(252 , 97 , 141)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="670" y="3580" width="600" height="310" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-74" target="LlnP0XwbOhv8N2WKwCaH-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-74" value="待验证" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;labelBorderColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="3845" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-76" target="LlnP0XwbOhv8N2WKwCaH-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-76" value="待验证" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;labelBorderColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="3935" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-78" target="LlnP0XwbOhv8N2WKwCaH-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-78" value="Optimizer" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="820" y="4260" width="460" height="80" as="geometry">
            <mxRectangle x="650" y="4040" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-80" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-78" vertex="1">
          <mxGeometry y="26" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-79" value=" virtual CompileGraph Optimize(const CompileGraph &amp;graph) = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-78" vertex="1">
          <mxGeometry y="36" width="460" height="44" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-82" target="LlnP0XwbOhv8N2WKwCaH-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-82" value="&lt;div style=&quot;color: rgb(247, 241, 255); background-color: rgb(34, 34, 34); font-family: consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;using&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;vector&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;std&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;shared_ptr&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizer&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&amp;gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;OpenclImageOptimizers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;OpenclBufferOptimizers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;CudaOptimizers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;tensorrt_utils&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Tag&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;default_tag&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;LayerTags&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;layer_tags&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;QuantizationOptimizers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;tensorrt_utils&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Tag&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;default_tag&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;LayerTags&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;layer_tags&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;Optimizers&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;CpuOptimizers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="730" y="3950" width="650" height="270" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.477;entryY=1.014;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-83" target="LlnP0XwbOhv8N2WKwCaH-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-83" value="class RuleOptimizer : public Optimizer" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="740" y="4380" width="400" height="80" as="geometry">
            <mxRectangle x="650" y="4040" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-84" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-83" vertex="1">
          <mxGeometry y="26" width="400" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-85" value=" virtual CompileGraph Optimize(const CompileGraph &amp;graph) = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-83" vertex="1">
          <mxGeometry y="36" width="400" height="44" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-89" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1040" y="4340" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1400" y="4360" />
              <mxPoint x="1040" y="4360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-89" value="class PadOptimizer : public Optimizer " style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1200" y="4380" width="400" height="80" as="geometry">
            <mxRectangle x="650" y="4040" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-90" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-89" vertex="1">
          <mxGeometry y="26" width="400" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-91" value=" virtual CompileGraph Optimize(const CompileGraph &amp;graph) = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-89" vertex="1">
          <mxGeometry y="36" width="400" height="44" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-95" target="LlnP0XwbOhv8N2WKwCaH-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-95" value="一些图优化？例如conv-relu融合" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;labelBorderColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="4012.5" width="140" height="35" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.008;entryY=0.357;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-98" target="LlnP0XwbOhv8N2WKwCaH-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-98" value="构造op，根据attr、in、out，准备op的输入输出等，只等运行？" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;labelBorderColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="520" y="4090" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-102" value="XLATensor" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="460" y="260" width="210" height="170" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-103" value="std::shared_ptr&lt;Data&gt; data_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-105" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="52" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-106" value="XLATensor CreateFrom" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="62" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-107" value="  static CompilationResult Compile" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="88" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-109" value="static std::shared_ptr&lt;Async&gt; SyncTensorsGraphInternal" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="114" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-108" value=" static xla::int64_t GetNextTensorId();" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-102" vertex="1">
          <mxGeometry y="144" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-110" target="LlnP0XwbOhv8N2WKwCaH-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-110" value="XLATensor::Data" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="775" y="230" width="330" height="346" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-126" value="    xla::ComputationClient::DataPtr xla_data;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="26" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-127" value="    ir::Value ir_value;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="52" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-151" value="    std::shared_ptr&lt;View&gt; view;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="78" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-111" value="    c10::optional&lt;at::ScalarType&gt; logical_element_type;&#xa;    c10::optional&lt;at::Tensor&gt; tensor_data;&#xa;    const Device device;&#xa;    const xla::int64_t unique_id = 0;&#xa;    size_t generation = 1;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="104" width="330" height="86" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-112" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="190" width="330" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-113" value="XLATensor CreateFrom" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="200" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-114" value="  static CompilationResult Compile" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="226" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-115" value="static std::shared_ptr&lt;Async&gt; SyncTensorsGraphInternal" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="252" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-116" value=" static xla::int64_t GetNextTensorId();" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-110" vertex="1">
          <mxGeometry y="282" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-118" value="ComputationClient::Data" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1280" y="180" width="330" height="140" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-119" value="    std::string device_;&#xa;    Shape shape_;&#xa;    std::shared_ptr&lt;Info&gt; info_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-118" vertex="1">
          <mxGeometry y="26" width="330" height="74" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-120" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-118" vertex="1">
          <mxGeometry y="100" width="330" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-119" target="LlnP0XwbOhv8N2WKwCaH-126" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1200" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-128" target="LlnP0XwbOhv8N2WKwCaH-127" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1210" y="412" />
              <mxPoint x="1210" y="295" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-128" target="LlnP0XwbOhv8N2WKwCaH-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-128" value="    ir::Value " style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1280" y="340" width="130" height="144" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-129" value=" NodePtr node;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-128" vertex="1">
          <mxGeometry y="26" width="130" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-139" value="  size_t index = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-128" vertex="1">
          <mxGeometry y="60" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-130" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-128" vertex="1">
          <mxGeometry y="100" width="130" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-133" target="LlnP0XwbOhv8N2WKwCaH-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-133" value="Node" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1510" y="340" width="450" height="390" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-134" value="// The ID of the operation captured by this node.&#xa;  OpKind op_;&#xa;  size_t num_outputs_ = 1;&#xa;  xla::Shape shape_;&#xa;  // A node holds a real reference to its operands.&#xa;  std::vector&lt;NodePtr&gt; operands_;&#xa;  // Outputs do not hold references on the nodes, and neither do the uses, since&#xa;  // otherwise we get into circular reference counting.&#xa;  std::vector&lt;Output&gt; operands_as_outputs_;&#xa;  // We use a set for uses, as we want deterministic use sequencing.&#xa;  std::set&lt;Use&gt; uses_;&#xa;  // The hash value of this node.&#xa;  xla::hash_t node_hash_ = 0;&#xa;  // The hash value of the graph rooted at this node.&#xa;  xla::hash_t hash_ = 0;&#xa;  // The IR specific metadata attached to the IR node.&#xa;  MetaData metadata_;&#xa;  // The IR framework user can attach a user defined metadata object deriving&#xa;  // from UserMetaData.&#xa;  std::shared_ptr&lt;UserMetaData&gt; user_metadata_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-133" vertex="1">
          <mxGeometry y="26" width="450" height="304" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-135" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-133" vertex="1">
          <mxGeometry y="330" width="450" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-142" target="LlnP0XwbOhv8N2WKwCaH-151" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1130" y="340" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1160" y="321" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-142" value="View" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1120" y="576" width="214" height="266" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-144" value="  std::vector&lt;ViewInfo&gt; view_infos_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="26" width="214" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-146" value="  xla::Shape shape_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="60" width="214" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-147" value="  std::shared_ptr&lt;Alias&gt; alias_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="94" width="214" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-148" value=" ir::Value ir_value_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="128" width="214" height="34" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-143" value="  size_t generation_ = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="162" width="214" height="38" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-145" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-142" vertex="1">
          <mxGeometry y="200" width="214" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-154" target="LlnP0XwbOhv8N2WKwCaH-144" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1430" y="619" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-154" value="ViewInfo" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1500" y="770" width="430" height="290" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-155" value="Type view_type = Type::kInvalid;&#xa;  // The shape of the result of a view. In case of narrowing, this represents&#xa;  // the size of the narrow slice.&#xa;  xla::Shape shape;&#xa;  // In case of narrowing, the starting indices from where the narrow slice is&#xa;  // cut.&#xa;  std::vector&lt;xla::int64_t&gt; indices;&#xa;  // The shape of the source of this view.&#xa;  xla::Shape source_shape;&#xa;  // The permutation to be used. If empty, this is not a permute operation.&#xa;  std::vector&lt;xla::int64_t&gt; permutation;&#xa;  // Information used for sliced views.&#xa;  absl::optional&lt;SelectInfo&gt; select;&#xa;  // Information used for as_strided views.&#xa;  absl::optional&lt;AsStridedInfo&gt; as_strided;&#xa;  // Information used for diagonal views.&#xa;  absl::optional&lt;DiagonalInfo&gt; diagonal;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-154" vertex="1">
          <mxGeometry y="26" width="430" height="254" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-160" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-154" vertex="1">
          <mxGeometry y="280" width="430" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-162" value="Alias" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1480" y="1080" width="430" height="200" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-163" value="  // The IR value which is the root at which the view was created.&#xa;  ir::Value ir_value_;&#xa;  // The stacked updates on the view. Orders matter, as most recent updates&#xa;  // might overwrite older ones.&#xa;  std::vector&lt;UpdateData&gt; updates_;&#xa;  // Incremented every time an update happens. Used by view to track alias&#xa;  // changes and regenerate the most current value.&#xa;  size_t generation_ = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-162" vertex="1">
          <mxGeometry y="26" width="430" height="134" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-164" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-162" vertex="1">
          <mxGeometry y="160" width="430" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-163" target="LlnP0XwbOhv8N2WKwCaH-147" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-167" value="ComputationClient" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-559" y="860" width="360" height="330" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-168" value="  // Metrics common to all client interfaces.&#xa;  static metrics::Metric* TransferToServerMetric();&#xa;  static metrics::Metric* TransferToServerTransformMetric();&#xa;  static metrics::Metric* TransferFromServerMetric();&#xa;  static metrics::Metric* CompileMetric();&#xa;  static metrics::Metric* ExecuteMetric();&#xa;  static metrics::Metric* ExecuteReplicatedMetric();&#xa;  static metrics::Metric* ExecuteParallelMetric();&#xa;  static metrics::Metric* ExecuteChainedMetric();&#xa;  static metrics::Metric* DeconstructTupleMetric();&#xa;  static metrics::Counter* CreateDataHandlesCounter();&#xa;  static metrics::Counter* ReleaseDataHandlesCounter();&#xa;  static metrics::Counter* DestroyDataHandlesCounter();&#xa;  static metrics::Metric* ReleaseDataHandlesTimeMetric();&#xa;  static metrics::Counter* CreateCompileHandlesCounter();&#xa;  static metrics::Counter* ReleaseCompileHandlesCounter();&#xa;  static metrics::Counter* DestroyCompileHandlesCounter();&#xa;  static metrics::Metric* ReleaseCompileHandlesTimeMetric();&#xa;  static metrics::Metric* InboundDataMetric();&#xa;  static metrics::Metric* OutboundDataMetric();" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-167" vertex="1">
          <mxGeometry y="26" width="360" height="294" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-169" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-167" vertex="1">
          <mxGeometry y="320" width="360" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-174" value="class XrtComputationClient : public ComputationClient" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-110" y="868" width="460" height="370" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-175" value="Options options_;&#xa;  std::mutex lock_;&#xa;  std::map&lt;std::string, std::vector&lt;int&gt;&gt; device_mesh_coords_;&#xa;  std::unique_ptr&lt;XrtSessionCache&gt; session_cache_;&#xa;  std::unique_ptr&lt;XrtSessionCache&gt; alloc_session_cache_;&#xa;  std::unique_ptr&lt;util::TriggeredTask&gt; triggered_task_;&#xa;  XrtLocalService* local_service_ = nullptr;&#xa;  util::Cache&lt;CompilationCacheKey, Computation, CompilationCacheKey::Hash&gt;&#xa;      compilation_cache_;&#xa;  std::atomic&lt;size_t&gt; rng_seed_;&#xa;  // Access to the following members must be done while holding lock_.&#xa;  // XRT thread safety semantics.&#xa;  std::vector&lt;DeviceHandle&gt; released_data_handles_;&#xa;  std::vector&lt;DeviceHandle&gt; released_compile_handles_;&#xa;  // The mesh service which is used to coordinate all the client hosts which are&#xa;  // feeding different TPU devices in a POD (or slice) training.&#xa;  std::unique_ptr&lt;service::MeshService&gt; mesh_service_;&#xa;  std::shared_ptr&lt;std::vector&lt;std::string&gt;&gt; replication_devices_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-174" vertex="1">
          <mxGeometry y="26" width="460" height="274" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-176" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-174" vertex="1">
          <mxGeometry y="300" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-178" value="std::vector&lt;ComputationClient::ComputationPtr&gt; XrtComputationClient::Compile(&#xa;    std::vector&lt;CompileInstance&gt; instances)" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-174" vertex="1">
          <mxGeometry y="310" width="460" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-177" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.003;entryY=0.041;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="LlnP0XwbOhv8N2WKwCaH-168" target="LlnP0XwbOhv8N2WKwCaH-174" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-182" value="class Generic : public Node" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1365" y="3030" width="310" height="114" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-184" value="LowerFn lower_fn_;&#xa;  xla::hash_t hash_seed_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="LlnP0XwbOhv8N2WKwCaH-182" vertex="1">
          <mxGeometry y="26" width="310" height="54" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-185" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="LlnP0XwbOhv8N2WKwCaH-182" vertex="1">
          <mxGeometry y="80" width="310" height="10" as="geometry" />
        </mxCell>
        <mxCell id="LlnP0XwbOhv8N2WKwCaH-187" value="&lt;div style=&quot;color: rgb(247, 241, 255); background-color: rgb(34, 34, 34); font-family: consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;Generic IR Node implementation &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; nodes which can simply be described by a&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;specific OpKind &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;and&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; a lowering function&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; IR nodes carrying metadata should&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;not&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; be &lt;/span&gt;&lt;span style=&quot;color: #fc618d&quot;&gt;using&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #bab6c0 ; font-style: italic&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6 ; font-style: italic&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; (and have the metadata captured by the LowerFn)&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;but&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;they should instead create a dedicated IR node. Doing the former would limit&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f7f1ff&quot;&gt;IR introspection.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1360" y="2818" width="550" height="210" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-0" target="RD1T-AmYN6bjSsgPqCFJ-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-0" target="RD1T-AmYN6bjSsgPqCFJ-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-0" value="    ir::Value " style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1524" y="-360" width="130" height="144" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-1" value=" NodePtr node;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-0">
          <mxGeometry y="26" width="130" height="34" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-2" value="  size_t index = 0;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-0">
          <mxGeometry y="60" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-3" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-0">
          <mxGeometry y="100" width="130" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-4" target="RD1T-AmYN6bjSsgPqCFJ-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-4" value="    ir::Value " style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="600" y="-390" width="130" height="90" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-5" value="。。。" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-4">
          <mxGeometry y="30" width="130" height="34" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-7" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-4">
          <mxGeometry y="64" width="130" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.094;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-8" target="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-8" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;GetXlaTensor&lt;/span&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="800" y="-375" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-10" target="RD1T-AmYN6bjSsgPqCFJ-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1080" y="-170" />
              <mxPoint x="980" y="-170" />
              <mxPoint x="980" y="-90" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-10" target="RD1T-AmYN6bjSsgPqCFJ-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-10" value="XLATensor" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="980" y="-390" width="210" height="170" as="geometry">
            <mxRectangle x="230" y="140" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-11" value="std::shared_ptr&lt;Data&gt; data_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-12" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="52" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-13" value="XLATensor CreateFrom" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="62" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-14" value="  static CompilationResult Compile" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="88" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-15" value="static std::shared_ptr&lt;Async&gt; SyncTensorsGraphInternal" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="114" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-16" value=" static xla::int64_t GetNextTensorId();" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-10">
          <mxGeometry y="144" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-18" target="RD1T-AmYN6bjSsgPqCFJ-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="665" y="-90" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-18" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;bridge&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;AtenFromXlaTensor&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="710" y="-120" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.104;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-22" target="RD1T-AmYN6bjSsgPqCFJ-0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-22" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;XLATensor::&lt;/span&gt;&lt;span style=&quot;color: rgb(123 , 216 , 143)&quot;&gt;GetIrValue&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1260" y="-375" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-26" target="RD1T-AmYN6bjSsgPqCFJ-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1230" y="-110" />
              <mxPoint x="1230" y="-289" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-26" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;XLATensor::&lt;/span&gt;&lt;span style=&quot;color: rgb(123 , 216 , 143) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;CreateFrom&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1250" y="-140" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-29" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;ir&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;ops&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;Dot&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1700" y="-340" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-31" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2000" y="-540" width="750" height="860" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-32" target="RD1T-AmYN6bjSsgPqCFJ-55">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2222.720779386422" y="-221.21320343559637" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-32" value="XlaOp" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2040" y="-480" width="210" height="110" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-33" value="int64_t handle_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-32">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-34" value="XlaBuilder* builder_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-32">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-35" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-32">
          <mxGeometry y="80" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-36" target="RD1T-AmYN6bjSsgPqCFJ-55">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2350" y="-230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-36" value="XlaOp" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2290" y="-480" width="210" height="110" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-37" value="int64_t handle_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-36">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-38" value="XlaBuilder* builder_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-36">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-39" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-36">
          <mxGeometry y="80" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-40" target="RD1T-AmYN6bjSsgPqCFJ-55">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2477.279220613578" y="-221.21320343559637" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-40" value="xla::PrecisionConfig" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2520" y="-385" width="210" height="80" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-41" value="operand_precision" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-40">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-43" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-40">
          <mxGeometry y="52" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-44" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;BuildDot&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2240" y="-540" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-45" target="RD1T-AmYN6bjSsgPqCFJ-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-45" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;XlaHelpers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;BuildPrecisionConfig&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;&amp;nbsp;XlaHelpers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;mat_mul_precision&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;());&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2510" y="-480" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-47" value="XlaOp" style="swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2290" y="374" width="210" height="110" as="geometry">
            <mxRectangle x="90" y="600" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-48" value="int64_t handle_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-47">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-49" value="XlaBuilder* builder_;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-47">
          <mxGeometry y="52" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-50" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="RD1T-AmYN6bjSsgPqCFJ-47">
          <mxGeometry y="80" width="210" height="10" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-55" target="RD1T-AmYN6bjSsgPqCFJ-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-55" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2070" y="-220" width="650" height="480" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-56" target="RD1T-AmYN6bjSsgPqCFJ-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-56" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;xla&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;Dot&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;lhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; rhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #fc618d&quot;&gt;&amp;amp;&lt;/span&gt;precision_config&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2092.75" y="-200" width="404" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-58" target="RD1T-AmYN6bjSsgPqCFJ-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-58" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;builder&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;()-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;Dot&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;lhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; rhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; precision_config&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;preferred_element_type=0&lt;span style=&quot;color: #8b888f&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2157.25" y="-130" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-34" target="RD1T-AmYN6bjSsgPqCFJ-58">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2030" y="-414" />
              <mxPoint x="2030" y="-110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-62" target="RD1T-AmYN6bjSsgPqCFJ-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-62" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;DotGeneral&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;lhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; rhs&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; dimension_numbers&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;precision_config&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&amp;nbsp;preferred_element_type&lt;span style=&quot;color: rgb(139 , 136 , 143)&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2194.25" y="-40" width="390" height="50" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-63" target="RD1T-AmYN6bjSsgPqCFJ-62">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2389" y="-65" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-63" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;DotDimensionNumbers&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2407.25" y="-80" width="177" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-67" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 22px&quot;&gt;&lt;div style=&quot;line-height: 22px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;StatusOr&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #5ad4e6&quot;&gt;XlaOp&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #7bd88f&quot;&gt;XlaBuilder&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #7bd88f&quot;&gt;DotGeneralInternal&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;Shape&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;shape&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;XlaOp&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;lhs&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;XlaOp&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;rhs&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;DotDimensionNumbers&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;dimension_numbers&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #5ad4e6&quot;&gt;PrecisionConfig&lt;/span&gt;&lt;span style=&quot;color: #fc618d ; font-style: italic&quot;&gt;*&lt;/span&gt; &lt;span style=&quot;color: #fd9353 ; font-style: italic&quot;&gt;precision_config&lt;/span&gt;&lt;span style=&quot;color: #8b888f&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2217.25" y="60" width="440" height="90" as="geometry" />
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="RD1T-AmYN6bjSsgPqCFJ-68" target="RD1T-AmYN6bjSsgPqCFJ-67">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2437" y="35" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RD1T-AmYN6bjSsgPqCFJ-68" value="&lt;div style=&quot;color: rgb(247 , 241 , 255) ; background-color: rgb(34 , 34 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 16px ; line-height: 22px&quot;&gt;&lt;span style=&quot;color: rgb(90 , 212 , 230)&quot;&gt;输出Shape&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2487.25" y="20" width="83" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
